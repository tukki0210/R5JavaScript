<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>天気予報</h1>
    <div id="weather"></div>
    <script>

        async function getData(){

            // fetch()は非同期で実行され、Promiseを持つ
            // awaitを付けて、待つことを表現
            const response = await fetch("https://www.jma.go.jp/bosai/forecast/data/overview_forecast/310000.json")

            console.log(response)
            // response.json()はjsonの生データをJavaScriptのオブジェクトに変換する処理
            // これもawaitを付ける必要
           const data = await response.json()

           console.log(data)
           console.log(data.publishingOffice)
           console.log(data.targetArea)
           console.log(data.text)
           
           document.getElementById('weather').textContent = data.text
        }

        getData()
    </script>
</body>
</html>